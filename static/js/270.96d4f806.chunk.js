"use strict";(self.webpackChunkagented=self.webpackChunkagented||[]).push([[270],{3270:function(t,n,e){e.r(n);var c=e(9439),o=e(1732),i=e(7257),r=e(8792),a=e(3099),u=e(6473),d=e(2242),s=e(7174),A=e(2706),l=e(8764),h=e(7309),g=e(4422),E=e(2791),Q=e(7892),f=e.n(Q),p=e(184);n.default=(0,i.Pi)((function(){var t=o.n.studio701Products,n=o.n.updateStudioDetail;(0,E.useEffect)((function(){o.n.get701Products();var t=setInterval((function(){return o.n.get701Products()}),3e4);return function(){return clearInterval(t)}}),[]);var e=function(){var n=new Set,e=[];return t.forEach((function(t){n.has(t.agentId)||(n.add(t.agentId),e.push({value:t.agentId,label:t.agentFullname}))})),e}(),i=(0,E.useState)(),Q=(0,c.Z)(i,2),Z=Q[0],B=Q[1];return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("br",{}),(0,p.jsx)(h.ZP,{block:!0,children:"dfsdfsf"}),(0,p.jsxs)(a.Z,{children:[(0,p.jsx)(h.ZP,{block:!0,children:"dfsdfsf"}),(0,p.jsx)(h.ZP,{children:"df"}),(0,p.jsx)(h.ZP,{children:"df"}),(0,p.jsx)(h.ZP,{children:"df"}),(0,p.jsx)(h.ZP,{children:"df"})]}),(0,p.jsxs)(a.Z,{direction:"vertical",style:{display:"flex",alignItems:"center"},children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(g.ZP.Group,{style:{width:"100%"},options:e,onChange:function(t){var n=t.target.value;B(n)},value:Z,buttonStyle:"solid"})}),(0,p.jsx)(r.ZP,{dataSource:t.filter((function(t){return t.agentId===Z})).sort((function(t,n){return n.cdate-t.cdate})),renderItem:function(t){var e,c;return(0,p.jsx)(r.ZP.Item,{children:(0,p.jsxs)(a.Z,{align:"top",children:[(0,p.jsx)(u.Z,{children:(0,p.jsx)(d.Z,{width:120,height:171,src:"".concat("https://solarboro.top:1181/images/").concat(t.image),fallback:"data:image/png;base64,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"})}),(0,p.jsx)(u.Z,{children:(0,p.jsxs)(s.Z,{column:1,children:[(0,p.jsx)(s.Z.Item,{label:"\u6240\u5c5e",children:t.agentFullname}),(0,p.jsx)(s.Z.Item,{label:"\u6b3e\u5f0f",children:t.style}),(0,p.jsx)(s.Z.Item,{label:"\u7f16\u53f7",children:t.model}),(0,p.jsxs)(s.Z.Item,{label:"\u7528\u65f6",children:[(0,p.jsx)(A.Z,{value:null===t||void 0===t||null===(e=t.sampleOrder)||void 0===e?void 0:e.cost,min:-1,onChange:function(e){return c=t.id,void((o=e)&&n(c,{cost:o}));var c,o}})," "]}),(0,p.jsx)(s.Z.Item,{label:"\u6253\u677f\u65e5\u671f",children:(0,p.jsx)(l.Z,{value:f()(null===t||void 0===t||null===(c=t.sampleOrder)||void 0===c?void 0:c.manufactureDate),inputReadOnly:!0,onChange:function(e){return function(t,e){e&&n(t,{manufactureDate:1e3*e.unix()})}(t.id,e)}})})]})})]})})}})]})]})}))},1732:function(t,n,e){e.d(n,{n:function(){return s}});var c=e(1413),o=e(3433),i=e(5671),r=e(3144),a=e(4098),u=e(3760),d=e(383),s=new(function(){function t(){var n=this;(0,i.Z)(this,t),this.filterTemplate=[{key:"pending",title:"\u6d3d\u8c08\u4e2d",value:0,color:"#3f8600"},{key:"studio",title:"\u6837\u677f\u4e2d",value:0,color:"#f56a00"},{key:"factory",title:"\u6295\u4ea7\u4e2d",value:0,color:"#f56a00"},{key:"paid",title:"\u5f85\u5c3e\u6b3e",value:0,color:"#cf1322"}],this.filter="pending",this.product={},this.products=[],this.studio701Products=[],this.statistic701=[],this.statistic701Period=[],this.statistic701PeriodFilter="",this.statistic701Producer=[],this.statistic701ProducerFilter="",this.paymentDetail={},this.get701Statistic=function(){u.Z.get("/statistic/studio/701").then((function(t){n.statistic701=(0,o.Z)(t.data),n.statistic701Period=(0,o.Z)(new Set(n.statistic701.map((function(t){return t.period})))),n.statistic701Producer=(0,o.Z)(new Set(n.statistic701.map((function(t){return t.producer})))),n.statistic701PeriodFilter=n.statistic701PeriodFilter||n.statistic701Period.at(-1),n.statistic701ProducerFilter=n.statistic701ProducerFilter||n.statistic701Producer.at(-1),console.log(n.statistic701Period),console.log(n.statistic701Producer)})).catch(console.log)},this.get701Products=function(){u.Z.get("product/701").then((function(t){n.studio701Products=(0,o.Z)(t.data)})).catch(console.log)},this.setPaymentDetail=function(t){n.paymentDetail=(0,c.Z)({},t)},this.selectd=function(t){n.product=(0,c.Z)({},t)},this.fallbackStatus=function(t){u.Z.get("product/".concat(t,"/fallbackStatus")).then((function(e){n.products=[].concat((0,o.Z)(n.products.filter((function(n){return n.id!==t}))),[e.data])})).catch(console.log)},this.updateFilter=function(t){return n.filter=t},this.new=function(){u.Z.post("product",{}).then((function(t){n.products=[].concat((0,o.Z)(n.products),[t.data])})).catch(console.log)},this.updateProduct=function(t){u.Z.put("product",t).then((function(t){n.products=[].concat((0,o.Z)(n.products.filter((function(n){return n.id!==t.data.id}))),[t.data]),n.product=(0,c.Z)({},t.data)})).catch(console.log)},this.index=function(){u.Z.get("product").then((function(t){n.products=(0,o.Z)(t.data)})).catch((function(t){console.log(t)}))},this.del=function(t){u.Z.delete("product/".concat(t)).then((function(e){return n.products.splice(n.products.findIndex((function(n){return n.id===t})),1)})).catch(console.log)},this.getByFilter=function(){var t=n.products.filter((function(t){return t.productStatus===n.filter}));switch(n.filter){case"pending":case"studio":case"factory":return t.sort((function(t,n){return t.cdate-n.cdate}));default:return t}},this.updateStudio=function(t){console.log(t),u.Z.put("product/".concat(n.product.id,"/studio"),{id:t}).then((function(t){n.product=(0,c.Z)((0,c.Z)({},n.product),{},{sampleOrder:t.data}),n.products.splice(n.products.findIndex((function(t){return t.id===n.product.id})),1,n.product)})).catch(console.log)},this.updateStudioDetail=function(t,e){u.Z.put("product/".concat(t,"/sample"),e).then((function(t){return n.get701Products()})).catch(console.log)},this.newPayment=function(t,e){u.Z.post("product/".concat(t,"/payment"),(0,c.Z)({},e)).then((function(t){n.product.payments.push((0,c.Z)({},t.data))})).catch(console.error)},this.updatePayment=function(t,e,o){u.Z.put("product/".concat(t,"/payment"),(0,c.Z)({},e)).then((function(t){var e=t.data,i=n.product.payments.findIndex((function(t){return t.id===e.id}));n.product.payments.splice(i,1,(0,c.Z)({},e)),o()})).catch(console.error)},this.deletePayment=function(t,e){u.Z.delete("product/".concat(t,"/payment/").concat(e)).then((function(t){var c=n.product.payments.findIndex((function(t){return t.id===e}));n.product.payments.splice(c,1)})).catch(console.error)},this.newCustOrder=function(t,e){u.Z.post("product/".concat(t,"/custOrder"),(0,c.Z)({},e)).then((function(t){n.product.custOrders.push((0,c.Z)({},t.data))})).catch(console.error)},this.updateCustOrder=function(t,e,o){u.Z.put("product/".concat(t,"/custOrder"),(0,c.Z)({},e)).then((function(t){var e=t.data,i=n.product.custOrders.findIndex((function(t){return t.id===e.id}));n.product.custOrders.splice(i,1,(0,c.Z)({},e)),o()})).catch(console.error)},this.deleteCustOrder=function(t,e){u.Z.delete("product/".concat(t,"/custOrder/").concat(e)).then((function(t){var c=n.product.custOrders.findIndex((function(t){return t.id===e}));n.product.custOrders.splice(c,1)})).catch(console.error)},this.newMaterials=function(t,e){u.Z.post("product/".concat(t,"/material"),(0,c.Z)({},e)).then((function(t){n.product.materials.push((0,c.Z)({},t.data))})).catch(console.error)},this.updateMaterials=function(t,e,o){u.Z.put("product/".concat(t,"/material"),(0,c.Z)({},e)).then((function(t){var e=t.data,i=n.product.materials.findIndex((function(t){return t.id===e.id}));n.product.materials.splice(i,1,(0,c.Z)({},e)),o()})).catch(console.error)},this.deleteMaterials=function(t,e){u.Z.delete("product/".concat(t,"/material/").concat(e)).then((function(t){var c=n.product.materials.findIndex((function(t){return t.id===e}));n.product.materials.splice(c,1)})).catch(console.error)},(0,a.ky)(this),d.H.isLogin&&this.index()}return(0,r.Z)(t,[{key:"getFilterTemplate",get:function(){var t=this;return this.filterTemplate.forEach((function(n){n.value=t.products.filter((function(t){return t.productStatus===n.key})).length})),this.filterTemplate}}]),t}())}}]);
//# sourceMappingURL=270.96d4f806.chunk.js.map