"use strict";(self.webpackChunkagented=self.webpackChunkagented||[]).push([[767],{1767:function(t,e,n){n.r(e);var c=n(9439),o=n(2791),r=n(1732),i=n(7257),a=n(7128),l=n(1046),s=n(6473),d=n(4078),u=n(9555),p=n(2706),f=n(8715),m=n(7174),h=n(5273),g=n(184);e.default=(0,i.Pi)((function(){var t=r.n.statistic701Period,e=r.n.statistic701PeriodFilter,n=r.n.statistic701Producer,i=r.n.statistic701ProducerFilter,Z=r.n.statistic701,b=r.n.get701Statistic,y=(0,o.useState)(7500),x=(0,c.Z)(y,2),v=x[0],S=x[1];(0,o.useEffect)((function(){b()}),[]);var j=function(){return Z.filter((function(t){return t.period===e})).filter((function(t){return t.producer===i}))},P=function(){var t=0,e=0;return j().forEach((function(n){t+=n.cost,e+=n.count})),{cost:t,count:e}};return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(a.Z,{orientation:"left",children:"\u7edf\u8ba1"}),(0,g.jsxs)(l.Z,{direction:"vertical",style:{display:"flex"},children:[(0,g.jsx)(s.Z,{children:(0,g.jsxs)(l.Z,{children:[(0,g.jsx)(d.Z.Text,{children:"\u677f\u671f"}),(0,g.jsx)(u.Z,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100px"},value:e,onChange:function(t){return r.n.statistic701PeriodFilter=t},options:null===t||void 0===t?void 0:t.map((function(t){return{value:t,label:t}}))}),(0,g.jsx)(d.Z.Text,{children:"\u677f\u5e08"}),(0,g.jsx)(u.Z,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100px"},value:i,onChange:function(t){return r.n.statistic701ProducerFilter=t},options:null===n||void 0===n?void 0:n.map((function(t){return{value:t,label:t}}))})]})}),(0,g.jsx)(s.Z,{children:(0,g.jsxs)(l.Z,{children:[(0,g.jsx)(d.Z.Text,{children:"\u85aa\u8d44"}),(0,g.jsx)(p.Z,{style:{width:"100px"},value:v,onChange:S})]})}),(0,g.jsx)(s.Z,{title:(0,g.jsxs)(l.Z,{children:[e," ",i," ",P().cost,"\u65f6 ",P().count,"\u4ef6"]}),children:(0,g.jsx)(f.Z,{dataSource:j(),renderItem:function(t){return(0,g.jsx)(f.Z.Item,{children:(0,g.jsxs)(m.Z,{column:2,children:[(0,g.jsxs)(m.Z.Item,{label:t.agent,children:[Math.round(t.cost/P().cost*v*100)/100," \u5143"]}),(0,g.jsx)(m.Z.Item,{label:"".concat(t.cost,"\u65f6 / ").concat(t.count,"\u4ef6"),children:(0,g.jsx)(h.Z,{strokeColor:{"0%":"#006564","100%":"#87d068"},percent:Math.round(t.cost/P().cost*1e4)/100})})]})})}})})]})]})}))},1732:function(t,e,n){n.d(e,{n:function(){return d}});var c=n(1413),o=n(3433),r=n(5671),i=n(3144),a=n(4098),l=n(3760),s=n(383),d=new(function(){function t(){var e=this;(0,r.Z)(this,t),this.filterTemplate=[{key:"pending",title:"\u6d3d\u8c08\u4e2d",value:0,color:"#3f8600"},{key:"studio",title:"\u6837\u677f\u4e2d",value:0,color:"#f56a00"},{key:"factory",title:"\u6295\u4ea7\u4e2d",value:0,color:"#f56a00"},{key:"paid",title:"\u5f85\u5c3e\u6b3e",value:0,color:"#cf1322"}],this.filter="pending",this.product={},this.products=[],this.studio701Products=[],this.statistic701=[],this.statistic701Period=[],this.statistic701PeriodFilter="",this.statistic701Producer=[],this.statistic701ProducerFilter="",this.paymentDetail={},this.get701Statistic=function(){l.Z.get("/statistic/studio/701").then((function(t){e.statistic701=(0,o.Z)(t.data),e.statistic701Period=(0,o.Z)(new Set(e.statistic701.map((function(t){return t.period})))),e.statistic701Producer=(0,o.Z)(new Set(e.statistic701.map((function(t){return t.producer})))),e.statistic701PeriodFilter=e.statistic701PeriodFilter||e.statistic701Period.at(-1),e.statistic701ProducerFilter=e.statistic701ProducerFilter||e.statistic701Producer.at(-1),console.log(e.statistic701Period),console.log(e.statistic701Producer)})).catch(console.log)},this.get701Products=function(){l.Z.get("product/701").then((function(t){e.studio701Products=(0,o.Z)(t.data)})).catch(console.log)},this.setPaymentDetail=function(t){e.paymentDetail=(0,c.Z)({},t)},this.selectd=function(t){e.product=(0,c.Z)({},t)},this.fallbackStatus=function(t){l.Z.get("product/".concat(t,"/fallbackStatus")).then((function(n){e.products=[].concat((0,o.Z)(e.products.filter((function(e){return e.id!==t}))),[n.data])})).catch(console.log)},this.updateFilter=function(t){return e.filter=t},this.new=function(){l.Z.post("product",{}).then((function(t){e.products=[].concat((0,o.Z)(e.products),[t.data])})).catch(console.log)},this.updateProduct=function(t){l.Z.put("product",t).then((function(t){e.products=[].concat((0,o.Z)(e.products.filter((function(e){return e.id!==t.data.id}))),[t.data]),e.product=(0,c.Z)({},t.data)})).catch(console.log)},this.index=function(){l.Z.get("product").then((function(t){e.products=(0,o.Z)(t.data)})).catch((function(t){console.log(t)}))},this.del=function(t){l.Z.delete("product/".concat(t)).then((function(n){return e.products.splice(e.products.findIndex((function(e){return e.id===t})),1)})).catch(console.log)},this.getByFilter=function(){var t=e.products.filter((function(t){return t.productStatus===e.filter}));switch(e.filter){case"pending":case"studio":case"factory":return t.sort((function(t,e){return t.cdate-e.cdate}));default:return t}},this.updateStudio=function(t){console.log(t),l.Z.put("product/".concat(e.product.id,"/studio"),{id:t}).then((function(t){e.product=(0,c.Z)((0,c.Z)({},e.product),{},{sampleOrder:t.data}),e.products.splice(e.products.findIndex((function(t){return t.id===e.product.id})),1,e.product)})).catch(console.log)},this.updateStudioDetail=function(t,n){l.Z.put("product/".concat(t,"/sample"),n).then((function(t){return e.get701Products()})).catch(console.log)},this.newPayment=function(t,n){l.Z.post("product/".concat(t,"/payment"),(0,c.Z)({},n)).then((function(t){e.product.payments.push((0,c.Z)({},t.data))})).catch(console.error)},this.updatePayment=function(t,n,o){l.Z.put("product/".concat(t,"/payment"),(0,c.Z)({},n)).then((function(t){var n=t.data,r=e.product.payments.findIndex((function(t){return t.id===n.id}));e.product.payments.splice(r,1,(0,c.Z)({},n)),o()})).catch(console.error)},this.deletePayment=function(t,n){l.Z.delete("product/".concat(t,"/payment/").concat(n)).then((function(t){var c=e.product.payments.findIndex((function(t){return t.id===n}));e.product.payments.splice(c,1)})).catch(console.error)},this.newCustOrder=function(t,n){l.Z.post("product/".concat(t,"/custOrder"),(0,c.Z)({},n)).then((function(t){e.product.custOrders.push((0,c.Z)({},t.data))})).catch(console.error)},this.updateCustOrder=function(t,n,o){l.Z.put("product/".concat(t,"/custOrder"),(0,c.Z)({},n)).then((function(t){var n=t.data,r=e.product.custOrders.findIndex((function(t){return t.id===n.id}));e.product.custOrders.splice(r,1,(0,c.Z)({},n)),o()})).catch(console.error)},this.deleteCustOrder=function(t,n){l.Z.delete("product/".concat(t,"/custOrder/").concat(n)).then((function(t){var c=e.product.custOrders.findIndex((function(t){return t.id===n}));e.product.custOrders.splice(c,1)})).catch(console.error)},this.newMaterials=function(t,n){l.Z.post("product/".concat(t,"/material"),(0,c.Z)({},n)).then((function(t){e.product.materials.push((0,c.Z)({},t.data))})).catch(console.error)},this.updateMaterials=function(t,n,o){l.Z.put("product/".concat(t,"/material"),(0,c.Z)({},n)).then((function(t){var n=t.data,r=e.product.materials.findIndex((function(t){return t.id===n.id}));e.product.materials.splice(r,1,(0,c.Z)({},n)),o()})).catch(console.error)},this.deleteMaterials=function(t,n){l.Z.delete("product/".concat(t,"/material/").concat(n)).then((function(t){var c=e.product.materials.findIndex((function(t){return t.id===n}));e.product.materials.splice(c,1)})).catch(console.error)},(0,a.ky)(this),s.H.isLogin&&this.index()}return(0,i.Z)(t,[{key:"getFilterTemplate",get:function(){var t=this;return this.filterTemplate.forEach((function(e){e.value=t.products.filter((function(t){return t.productStatus===e.key})).length})),this.filterTemplate}}]),t}())},7174:function(t,e,n){n.d(e,{K:function(){return P},Z:function(){return E}});var c=n(4942),o=n(9439),r=n(1694),i=n.n(r),a=n(6927),l=n(2791),s=n(1113),d=n(635),u=n(1929),p=n(4107),f=function(t){return t.children};function m(t){return void 0!==t&&null!==t}var h=function(t){var e,n=t.itemPrefixCls,o=t.component,r=t.span,a=t.className,s=t.style,d=t.labelStyle,u=t.contentStyle,p=t.bordered,f=t.label,h=t.content,g=t.colon,Z=o;return p?l.createElement(Z,{className:i()((e={},(0,c.Z)(e,"".concat(n,"-item-label"),m(f)),(0,c.Z)(e,"".concat(n,"-item-content"),m(h)),e),a),style:s,colSpan:r},m(f)&&l.createElement("span",{style:d},f),m(h)&&l.createElement("span",{style:u},h)):l.createElement(Z,{className:i()("".concat(n,"-item"),a),style:s,colSpan:r},l.createElement("div",{className:"".concat(n,"-item-container")},(f||0===f)&&l.createElement("span",{className:i()("".concat(n,"-item-label"),(0,c.Z)({},"".concat(n,"-item-no-colon"),!g)),style:d},f),(h||0===h)&&l.createElement("span",{className:i()("".concat(n,"-item-content")),style:u},h)))};function g(t,e,n){var c=e.colon,o=e.prefixCls,r=e.bordered,i=n.component,a=n.type,s=n.showLabel,d=n.showContent,u=n.labelStyle,p=n.contentStyle;return t.map((function(t,e){var n=t.props,f=n.label,m=n.children,g=n.prefixCls,Z=void 0===g?o:g,b=n.className,y=n.style,x=n.labelStyle,v=n.contentStyle,S=n.span,j=void 0===S?1:S,P=t.key;return"string"===typeof i?l.createElement(h,{key:"".concat(a,"-").concat(P||e),className:b,style:y,labelStyle:Object.assign(Object.assign({},u),x),contentStyle:Object.assign(Object.assign({},p),v),span:j,colon:c,component:i,itemPrefixCls:Z,bordered:r,label:s?f:null,content:d?m:null}):[l.createElement(h,{key:"label-".concat(P||e),className:b,style:Object.assign(Object.assign(Object.assign({},u),y),x),span:1,colon:c,component:i[0],itemPrefixCls:Z,bordered:r,label:f}),l.createElement(h,{key:"content-".concat(P||e),className:b,style:Object.assign(Object.assign(Object.assign({},p),y),v),span:2*j-1,component:i[1],itemPrefixCls:Z,bordered:r,content:m})]}))}var Z=function(t){var e=l.useContext(P),n=t.prefixCls,c=t.vertical,o=t.row,r=t.index,i=t.bordered;return c?l.createElement(l.Fragment,null,l.createElement("tr",{key:"label-".concat(r),className:"".concat(n,"-row")},g(o,t,Object.assign({component:"th",type:"label",showLabel:!0},e))),l.createElement("tr",{key:"content-".concat(r),className:"".concat(n,"-row")},g(o,t,Object.assign({component:"td",type:"content",showContent:!0},e)))):l.createElement("tr",{key:r,className:"".concat(n,"-row")},g(o,t,Object.assign({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},e)))},b=n(7521),y=n(4873),x=n(9922),v=function(t){var e,n,o=t.componentCls,r=t.extraColor,i=t.itemPaddingBottom,a=t.colonMarginRight,l=t.colonMarginLeft,s=t.titleMarginBottom;return(0,c.Z)({},o,Object.assign(Object.assign(Object.assign({},(0,b.Wf)(t)),function(t){var e,n=t.componentCls,o=t.labelBg;return(0,c.Z)({},"&".concat(n,"-bordered"),(e={},(0,c.Z)(e,"".concat(n,"-view"),{border:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorSplit),"> table":{tableLayout:"auto",borderCollapse:"collapse"}}),(0,c.Z)(e,"".concat(n,"-item-label, ").concat(n,"-item-content"),{padding:"".concat(t.padding,"px ").concat(t.paddingLG,"px"),borderInlineEnd:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorSplit),"&:last-child":{borderInlineEnd:"none"}}),(0,c.Z)(e,"".concat(n,"-item-label"),{color:t.colorTextSecondary,backgroundColor:o,"&::after":{display:"none"}}),(0,c.Z)(e,"".concat(n,"-row"),{borderBottom:"".concat(t.lineWidth,"px ").concat(t.lineType," ").concat(t.colorSplit),"&:last-child":{borderBottom:"none"}}),(0,c.Z)(e,"&".concat(n,"-middle"),(0,c.Z)({},"".concat(n,"-item-label, ").concat(n,"-item-content"),{padding:"".concat(t.paddingSM,"px ").concat(t.paddingLG,"px")})),(0,c.Z)(e,"&".concat(n,"-small"),(0,c.Z)({},"".concat(n,"-item-label, ").concat(n,"-item-content"),{padding:"".concat(t.paddingXS,"px ").concat(t.padding,"px")})),e))}(t)),(n={},(0,c.Z)(n,"&-rtl",{direction:"rtl"}),(0,c.Z)(n,"".concat(o,"-header"),{display:"flex",alignItems:"center",marginBottom:s}),(0,c.Z)(n,"".concat(o,"-title"),Object.assign(Object.assign({},b.vS),{flex:"auto",color:t.colorText,fontWeight:t.fontWeightStrong,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG})),(0,c.Z)(n,"".concat(o,"-extra"),{marginInlineStart:"auto",color:r,fontSize:t.fontSize}),(0,c.Z)(n,"".concat(o,"-view"),{width:"100%",borderRadius:t.borderRadiusLG,table:{width:"100%",tableLayout:"fixed"}}),(0,c.Z)(n,"".concat(o,"-row"),{"> th, > td":{paddingBottom:i},"&:last-child":{borderBottom:"none"}}),(0,c.Z)(n,"".concat(o,"-item-label"),(0,c.Z)({color:t.colorTextTertiary,fontWeight:"normal",fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:"".concat(l,"px ").concat(a,"px")}},"&".concat(o,"-item-no-colon::after"),{content:'""'})),(0,c.Z)(n,"".concat(o,"-item-no-label"),{"&::after":{margin:0,content:'""'}}),(0,c.Z)(n,"".concat(o,"-item-content"),{display:"table-cell",flex:1,color:t.colorText,fontSize:t.fontSize,lineHeight:t.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"}),(0,c.Z)(n,"".concat(o,"-item"),{paddingBottom:0,verticalAlign:"top","&-container":(e={display:"flex"},(0,c.Z)(e,"".concat(o,"-item-label"),{display:"inline-flex",alignItems:"baseline"}),(0,c.Z)(e,"".concat(o,"-item-content"),{display:"inline-flex",alignItems:"baseline"}),e)}),(0,c.Z)(n,"&-middle",(0,c.Z)({},"".concat(o,"-row"),{"> th, > td":{paddingBottom:t.paddingSM}})),(0,c.Z)(n,"&-small",(0,c.Z)({},"".concat(o,"-row"),{"> th, > td":{paddingBottom:t.paddingXS}})),n)))},S=(0,y.Z)("Descriptions",(function(t){var e=(0,x.TS)(t,{});return[v(e)]}),(function(t){return{labelBg:t.colorFillAlter,titleMarginBottom:t.fontSizeSM*t.lineHeightSM,itemPaddingBottom:t.padding,colonMarginRight:t.marginXS,colonMarginLeft:t.marginXXS/2,extraColor:t.colorText}})),j=function(t,e){var n={};for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&e.indexOf(c)<0&&(n[c]=t[c]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(c=Object.getOwnPropertySymbols(t);o<c.length;o++)e.indexOf(c[o])<0&&Object.prototype.propertyIsEnumerable.call(t,c[o])&&(n[c[o]]=t[c[o]])}return n},P=l.createContext({}),w={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1};function O(t,e,n){var c=t;return(void 0===n||n>e)&&(c=(0,s.Tm)(t,{span:e})),c}function C(t){var e,n=t.prefixCls,r=t.title,s=t.extra,f=t.column,m=void 0===f?w:f,h=t.colon,g=void 0===h||h,b=t.bordered,y=t.layout,x=t.children,v=t.className,C=t.rootClassName,E=t.style,k=t.size,N=t.labelStyle,I=t.contentStyle,T=j(t,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle"]),B=l.useContext(u.E_),F=B.getPrefixCls,M=B.direction,L=F("descriptions",n),z=l.useState({}),H=(0,o.Z)(z,2),W=H[0],D=H[1],G=function(t,e){if("number"===typeof t)return t;if("object"===typeof t)for(var n=0;n<d.c.length;n++){var c=d.c[n];if(e[c]&&void 0!==t[c])return t[c]||w[c]}return 3}(m,W),X=(0,p.Z)(k),R=S(L),A=(0,o.Z)(R,2),K=A[0],_=A[1],q=(0,d.Z)();l.useEffect((function(){var t=q.subscribe((function(t){"object"===typeof m&&D(t)}));return function(){q.unsubscribe(t)}}),[]);var J=function(t,e){var n=(0,a.Z)(t).filter((function(t){return t})),c=[],o=[],r=e;return n.forEach((function(t,i){var a,l=null===(a=t.props)||void 0===a?void 0:a.span,s=l||1;if(i===n.length-1)return o.push(O(t,r,l)),void c.push(o);s<r?(r-=s,o.push(t)):(o.push(O(t,r,s)),c.push(o),r=e,o=[])})),c}(x,G),Q=l.useMemo((function(){return{labelStyle:N,contentStyle:I}}),[N,I]);return K(l.createElement(P.Provider,{value:Q},l.createElement("div",Object.assign({className:i()(L,(e={},(0,c.Z)(e,"".concat(L,"-").concat(X),X&&"default"!==X),(0,c.Z)(e,"".concat(L,"-bordered"),!!b),(0,c.Z)(e,"".concat(L,"-rtl"),"rtl"===M),e),v,C,_),style:E},T),(r||s)&&l.createElement("div",{className:"".concat(L,"-header")},r&&l.createElement("div",{className:"".concat(L,"-title")},r),s&&l.createElement("div",{className:"".concat(L,"-extra")},s)),l.createElement("div",{className:"".concat(L,"-view")},l.createElement("table",null,l.createElement("tbody",null,J.map((function(t,e){return l.createElement(Z,{key:e,index:e,colon:g,prefixCls:L,vertical:"vertical"===y,bordered:b,row:t})}))))))))}C.Item=f;var E=C}}]);
//# sourceMappingURL=767.3218a118.chunk.js.map