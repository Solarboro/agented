"use strict";(self.webpackChunkagented=self.webpackChunkagented||[]).push([[429],{2735:function(e,t,n){n.d(t,{Z:function(){return o}});var A=n(9439),r=n(2791);function o(){var e="API_KEY",t=(0,r.useState)(localStorage.getItem(e)),n=(0,A.Z)(t,2),o=n[0],i=n[1];return(0,r.useEffect)((function(){o&&localStorage.setItem(e,o)}),[o]),[o,i]}},9429:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var A=n(9439),r=n(5485),o=n(1307),i=n(2339),a=n(1429),s=n(7309),c=n(7128),u=n(4248),l=n(9657),E=n(8792),g=n(2242),Q=n(2735),d=(n(3742),n(9529)),h=n(8999),f=n(7846),B=n(9389),m=n(184);var p=n(1413),I=n(3144),C=n(5671),N=n(4098),Z=n(1243).Z.create({baseURL:"http://aruchi.top:1182",timeout:3e3});Z.interceptors.request.use((function(e){return console.info(e),localStorage.getItem("API_KEY")&&"login"!==e.url&&(e.headers.Authorization="Bearer ".concat(localStorage.getItem("API_KEY"))),e}),(function(e){return Promise.reject(e)})),Z.interceptors.response.use((function(e){return e}),(function(e){return console.info("start"),console.info(e),console.info("end"),Promise.reject(e)}));var k=Z,S=new((0,I.Z)((function e(){var t=this;(0,C.Z)(this,e),this.user=JSON.parse(localStorage.getItem("user"))||{},this.login=function(e,n,A){var r=e.username,o=e.password;k.post("login",{username:r,password:o},{headers:{Authorization:""}}).then((function(e){t.user=(0,p.Z)({},e.data.iuser),localStorage.setItem("user",JSON.stringify(t.user)),n(e.data.token)})).catch((function(e){var t,n;A.info(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},(0,N.ky)(this)}))),j=n(7257),J=n(3433),v=new(function(){function e(){var t=this;(0,C.Z)(this,e),this.filterTemplate=[{key:"pending",title:"\u6d3d\u8c08\u4e2d",value:0,color:"#3f8600"},{key:"studio",title:"\u6837\u677f\u4e2d",value:0,color:"#f56a00"},{key:"factory",title:"\u6295\u4ea7\u4e2d",value:0,color:"#f56a00"},{key:"paid",title:"\u5f85\u5c3e\u6b3e",value:0,color:"#cf1322"}],this.filter="pending",this.products=[],this.updateFilter=function(e){return t.filter=e},this.new=function(){k.post("product",{}).then((function(e){t.products=[].concat((0,J.Z)(t.products),[e.data])})).catch(console.log)},this.index=function(){k.get("product").then((function(e){t.products=(0,J.Z)(e.data)})).catch((function(e){console.log(e)}))},this.getByFilter=function(){var e=t.products.filter((function(e){return e.productStatus===t.filter}));switch(t.filter){case"pending":return e.sort((function(e,t){return e.cdate-t.cdate}));case"studio":return e.sort((function(e,t){return e.sampleOrder.manufactureDates-t.sampleOrder.manufactureDates}));case"factory":return e.sort((function(e,t){return e.mdate-t.mdate}));default:return e}},(0,N.ky)(this)}return(0,I.Z)(e,[{key:"getFilterTemplate",get:function(){var e=this;return this.filterTemplate.forEach((function(t){t.value=e.products.filter((function(e){return e.productStatus===t.key})).length})),this.filterTemplate}}]),e}());n(7892),r.Z.Title;var y=(0,j.Pi)((function(){var e=o.Z.useApp().message,t=function(){var e=o.Z.useApp().modal,t=f.Z.useForm(),n=(0,A.Z)(t,1)[0],r=(0,m.jsxs)(f.Z,{size:"middle",preserve:!1,form:n,initialValues:{username:"solar",password:"abcd1234"},children:[(0,m.jsx)(f.Z.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7!"}],children:(0,m.jsx)(B.Z,{prefix:(0,m.jsx)(d.Z,{className:"site-form-item-icon"}),placeholder:"Username / \u8d26\u6237 / \u624b\u673a\u53f7"})}),(0,m.jsx)(f.Z.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],children:(0,m.jsx)(B.Z,{prefix:(0,m.jsx)(h.Z,{className:"site-form-item-icon"}),type:"password",placeholder:"Password / \u5bc6\u7801"})})]});return function(t){e.confirm({icon:!0,title:"\u7528\u6237\u767b\u5f55",okText:"\u767b\u5f55",onOk:function(e){n.validateFields().then((function(n){return t(n,e)})).catch(console.info)},content:r})}}(),n=(0,Q.Z)(),r=(0,A.Z)(n,2),p=(r[0],r[1]),I=function(t,n){S.login(t,(function(e){p(e),n()}),e)},C=function(e){var t=[],n=(0,m.jsx)("a",{children:"\u7f16\u8f91"}),A=(0,m.jsx)("a",{children:"\u5220\u9664"}),r=(0,m.jsx)(i.Z,{color:"error",children:"1000"}),o=(0,m.jsxs)(i.Z,{color:"success",children:[e.sampleOrder.studioName," ",e.sampleOrder.producerName?e.sampleOrder.producerName+" "+e.sampleOrder.cost+" \u5c0f\u65f6":"\u6392\u961f\u4e2d"]});switch(e.productStatus){case"pending":t.push(A);break;case"studio":t.push(o);break;case"factory":t.push(r)}return t.push(n),t};return(0,m.jsxs)(m.Fragment,{children:[S.user.fullname,(0,m.jsx)(s.ZP,{onClick:function(){return t(I)},children:"called"}),(0,m.jsx)(s.ZP,{onClick:function(){return v.index()},children:"products"}),(0,m.jsx)(c.Z,{orientation:"left",children:"\u6982\u8981"}),(0,m.jsx)(u.Z,{default:v.filter,onChange:v.updateFilter,block:!0,options:v.getFilterTemplate.map((function(e){return{label:(0,m.jsx)(a.Z,{title:e.title,value:e.value,valueStyle:{color:e.color}}),value:e.key}}))}),(0,m.jsx)(l.Z,{children:(0,m.jsx)(E.ZP,{size:"middle",itemLayout:"horizontal",pagination:{pageSize:5,simple:!0,position:"bottom",align:"end"},dataSource:v.getByFilter(),renderItem:function(e){return(0,m.jsx)(E.ZP.Item,{actions:C(e),children:(0,m.jsx)(E.ZP.Item.Meta,{avatar:(0,m.jsx)(g.Z,{width:30,height:40,src:"error",fallback:"data:image/png;base64,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"}),title:(0,m.jsxs)(m.Fragment,{children:[e.style," "]}),description:e.model})})}})}),(0,m.jsx)("br",{}),(0,m.jsx)(s.ZP,{onClick:function(){return v.new()},size:"large",type:"primary",block:!0,children:" New "})]})}))}}]);
//# sourceMappingURL=429.d7d013b7.chunk.js.map