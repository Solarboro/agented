"use strict";(self.webpackChunkagented=self.webpackChunkagented||[]).push([[483],{65:function(e,t,n){n.d(t,{Z:function(){return g}});var o=n(1413),r=n(9439),a=n(6185),i=n(7846),c=n(7128),s=n(9555),A=n(8764),l=n(2706),u=n(1306),d=n(7892),f=n.n(d),E=n(184);function g(e){var t=e.title,n=a.Z.useApp().modal,d=i.Z.useForm(),g=(0,r.Z)(d,1)[0],Q=(0,E.jsxs)(i.Z,{size:"middle",preserve:!1,form:g,children:[t&&(0,E.jsx)(c.Z,{children:t}),(0,E.jsx)(i.Z.Item,{label:"\u7c7b\u522b",name:"title",children:(0,E.jsx)(s.Z,{options:[{value:"1",label:"\u8ba2\u91d1"},{value:"2",label:"\u671f\u6b3e"},{value:"3",label:"\u5c3e\u6b3e"}]})}),(0,E.jsx)(i.Z.Item,{name:"date",label:"\u652f\u4ed8\u65e5\u671f",rules:[{type:"object"}],children:(0,E.jsx)(A.Z,{inputReadOnly:!0})}),(0,E.jsx)(i.Z.Item,{name:"amount",label:"\u652f\u4ed8\u91d1\u989d",children:(0,E.jsx)(l.Z,{})}),(0,E.jsx)(i.Z.Item,{name:"paid",label:"\u652f\u4ed8\u72b6\u6001",valuePropName:"checked",children:(0,E.jsx)(u.Z,{})})]});return function(e,t){g.setFieldsValue(e),n.confirm({icon:!0,okText:"\u63d0\u4ea4",onOk:function(n){g.validateFields().then((function(r){return t((0,o.Z)((0,o.Z)((0,o.Z)({},e),r),{},{date:1e3*f()(r.date).unix()}),n)})).catch(console.info)},content:Q})}}},2735:function(e,t,n){n.d(t,{Z:function(){return a}});var o=n(9439),r=n(2791);function a(){var e="API_KEY",t=(0,r.useState)(localStorage.getItem(e)),n=(0,o.Z)(t,2),a=n[0],i=n[1];return(0,r.useEffect)((function(){a&&localStorage.setItem(e,a)}),[a]),[a,i]}},1483:function(e,t,n){n.r(t),n.d(t,{default:function(){return w}});var o=n(7762),r=n(9439),a=n(2622),i=n(5485),c=n(6185),s=n(5820),A=n(2339),l=n(1429),u=n(9555),d=n(7309),f=n(7128),E=n(4248),g=n(6473),Q=n(8792),h=n(2242),m=n(2735),p=(n(3742),n(9529)),Z=n(8999),B=n(7846),v=n(9389),I=n(184);for(var y=n(1413),j=n(3144),k=n(5671),C=n(4098),x=n(129),N=new((0,j.Z)((function e(){var t=this;(0,k.Z)(this,e),this.user=JSON.parse(localStorage.getItem("user"))||{},this.login=function(e,n,o){var r=e.username,a=e.password;x.Z.post("login",{username:r,password:a},{headers:{Authorization:""}}).then((function(e){t.user=(0,y.Z)({},e.data.iuser),localStorage.setItem("user",JSON.stringify(t.user)),n(e.data.token)})).catch((function(e){var t,n;o.info(null===e||void 0===e||null===(t=e.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)}))},(0,C.ky)(this)}))),S=n(7257),J=n(1732),b=(n(7892),n(2791),[]),K=0;K<100;K++)b.push({key:K.toString(),name:"Edward ".concat(K),age:32,address:"London Park no. ".concat(K)});var P=n(65),R=n(7689);i.Z.Title;var w=(0,S.Pi)((function(){var e=(0,R.s0)(),t=(0,P.Z)({title:"\u8d26\u5355"}),n=c.Z.useApp().message,i=function(){var e=c.Z.useApp().modal,t=B.Z.useForm(),n=(0,r.Z)(t,1)[0],o=(0,I.jsxs)(B.Z,{size:"middle",preserve:!1,form:n,initialValues:{username:"solar",password:"abcd1234"},children:[(0,I.jsx)(f.Z,{children:"\u7528\u6237\u767b\u5165 "}),(0,I.jsx)(B.Z.Item,{name:"username",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7!"}],children:(0,I.jsx)(v.Z,{prefix:(0,I.jsx)(p.Z,{className:"site-form-item-icon"}),placeholder:"Username / \u8d26\u6237 / \u624b\u673a\u53f7"})}),(0,I.jsx)(B.Z.Item,{name:"password",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}],children:(0,I.jsx)(v.Z,{prefix:(0,I.jsx)(Z.Z,{className:"site-form-item-icon"}),type:"password",placeholder:"Password / \u5bc6\u7801"})})]});return function(t){e.confirm({icon:!0,okText:"\u767b\u5f55",onOk:function(e){n.validateFields().then((function(n){return t(n,e)})).catch(console.info)},content:o})}}(),y=(0,m.Z)(),j=(0,r.Z)(y,2),k=(j[0],j[1]),C=function(e,t){N.login(e,(function(e){k(e),t()}),n)},x=function(t){var n=[],r=(0,I.jsx)("a",{onClick:function(){return function(t){console.info(t.payments),J.n.selectd(t),e("/product/detail")}(t)},children:"\u7f16\u8f91"}),i=(0,I.jsxs)(s.Z,{placement:"topRight",title:"\u4ea7\u54c1\u79fb\u9664",description:"".concat(t.style,"-").concat(t.model),onConfirm:function(){return J.n.del(t.id)},okText:"Yes",cancelText:"No",children:[(0,I.jsx)(a.Z,{style:{color:"red"}})," \u79fb\u9664"]}),c=(0,I.jsxs)(A.Z,{color:"success",children:[t.sampleOrder.studioName," ",t.sampleOrder.producerName?t.sampleOrder.producerName+" "+t.sampleOrder.cost+" \u5c0f\u65f6":"\u6392\u961f\u4e2d"]});switch(t.productStatus){case"pending":n.push(i);break;case"studio":n.push(c);break;case"factory":var l,u=0,d=(0,o.Z)(t.materials);try{for(d.s();!(l=d.n()).done;){u+=l.value.amount}}catch(E){d.e(E)}finally{d.f()}var f=(0,I.jsxs)(A.Z,{color:"error",children:[u," \u5143"]});n.push(f)}return n.push(r),n};return(0,I.jsxs)("div",{className:"about",children:[(0,I.jsx)(u.Z,{defaultValue:"jack",options:[{value:"jack",label:"Jack"},{value:"solar",label:"Solar"},{value:"boro",label:"Boro"}]}),N.user.fullname,(0,I.jsx)(d.ZP,{onClick:function(){return i(C)},children:"called"}),(0,I.jsx)(d.ZP,{onClick:function(){return J.n.index()},children:"products"}),(0,I.jsx)(d.ZP,{onClick:function(){return t((function(e,t){return console.log(e)}))},children:"payment"}),(0,I.jsx)(f.Z,{orientation:"left",children:"\u6982\u8981"}),(0,I.jsx)(E.Z,{default:J.n.filter,onChange:J.n.updateFilter,block:!0,options:J.n.getFilterTemplate.map((function(e){return{label:(0,I.jsx)(l.Z,{title:e.title,value:e.value,valueStyle:{color:e.color}}),value:e.key}}))}),(0,I.jsx)(g.Z,{children:(0,I.jsx)(Q.ZP,{size:"middle",itemLayout:"horizontal",pagination:{pageSize:5,simple:!0,position:"bottom",align:"end"},dataSource:J.n.getByFilter(),renderItem:function(e){return(0,I.jsx)(Q.ZP.Item,{actions:x(e),children:(0,I.jsx)(Q.ZP.Item.Meta,{avatar:(0,I.jsx)(h.Z,{width:30,height:40,src:"error",fallback:"data:image/png;base64,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"}),title:(0,I.jsxs)(I.Fragment,{children:[e.style," "]}),description:e.model})})}})}),(0,I.jsx)("br",{}),(0,I.jsx)(d.ZP,{onClick:function(){return J.n.new()},size:"large",type:"primary",block:!0,children:" \u5ba2\u5355\u6dfb\u52a0 "})]})}))},1732:function(e,t,n){n.d(t,{n:function(){return l}});var o=n(7762),r=n(3433),a=n(1413),i=n(5671),c=n(3144),s=n(4098),A=n(129),l=new(function(){function e(){var t=this;(0,i.Z)(this,e),this.filterTemplate=[{key:"pending",title:"\u6d3d\u8c08\u4e2d",value:0,color:"#3f8600"},{key:"studio",title:"\u6837\u677f\u4e2d",value:0,color:"#f56a00"},{key:"factory",title:"\u6295\u4ea7\u4e2d",value:0,color:"#f56a00"},{key:"paid",title:"\u5f85\u5c3e\u6b3e",value:0,color:"#cf1322"}],this.filter="pending",this.product={},this.products=[],this.selectd=function(e){t.product=(0,a.Z)({},e)},this.updateFilter=function(e){return t.filter=e},this.new=function(){A.Z.post("product",{}).then((function(e){t.products=[].concat((0,r.Z)(t.products),[e.data])})).catch(console.log)},this.index=function(){A.Z.get("product").then((function(e){t.products=(0,r.Z)(e.data)})).catch((function(e){console.log(e)}))},this.del=function(e){A.Z.delete("product/".concat(e)).then((function(n){return t.products.splice(t.products.findIndex((function(t){return t.id===e})),1)}))},this.getByFilter=function(){var e=t.products.filter((function(e){return e.productStatus===t.filter}));switch(t.filter){case"pending":return e.sort((function(e,t){return e.cdate-t.cdate}));case"studio":return e.sort((function(e,t){return e.sampleOrder.manufactureDates-t.sampleOrder.manufactureDates}));case"factory":return e.sort((function(e,t){return e.mdate-t.mdate}));default:return e}},this.newPayment=function(e,n){A.Z.post("product/".concat(e,"/payment"),(0,a.Z)({},n)).then((function(n){var r,i=(0,o.Z)(t.products);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.id===e&&c.payments.push((0,a.Z)({},n.data))}}catch(s){i.e(s)}finally{i.f()}})).catch(console.error)},this.updatePayment=function(e,n,r){A.Z.put("product/".concat(e,"/payment"),(0,a.Z)({},n)).then((function(n){var i,c=n.data,s=(0,o.Z)(t.products);try{for(s.s();!(i=s.n()).done;){var A=i.value;if(A.id===e){var l=A.payments.findIndex((function(e){return e.id===c.id}));A.payments.splice(l,1,(0,a.Z)({},c))}}}catch(u){s.e(u)}finally{s.f()}r()})).catch(console.error)},this.deletePayment=function(e,n){A.Z.delete("product/".concat(e,"/payment/").concat(n)).then((function(r){var a,i=(0,o.Z)(t.products);try{for(i.s();!(a=i.n()).done;){var c=a.value;if(c.id===e){var s=c.payments.findIndex((function(e){return e.id===n}));c.payments.splice(s,1)}}}catch(A){i.e(A)}finally{i.f()}})).catch(console.error)},(0,s.ky)(this)}return(0,c.Z)(e,[{key:"getFilterTemplate",get:function(){var e=this;return this.filterTemplate.forEach((function(t){t.value=e.products.filter((function(e){return e.productStatus===t.key})).length})),this.filterTemplate}}]),e}())},129:function(e,t,n){var o=n(1243).Z.create({baseURL:"http://aruchi.top:1182",timeout:3e3});o.interceptors.request.use((function(e){return console.info(e),localStorage.getItem("API_KEY")&&"login"!==e.url&&(e.headers.Authorization="Bearer ".concat(localStorage.getItem("API_KEY"))),e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){return e}),(function(e){return console.info("start"),console.info(e),console.info("end"),Promise.reject(e)})),t.Z=o}}]);
//# sourceMappingURL=483.536a5c33.chunk.js.map